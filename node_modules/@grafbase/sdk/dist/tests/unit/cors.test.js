"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../../src/index");
var globals_1 = require("@jest/globals");
var utils_1 = require("../utils");
var g = index_1.graph.Standalone();
(0, globals_1.describe)('CORS settings', function () {
    (0, globals_1.beforeEach)(function () {
        g.clear();
        g.type('A', {
            b: g.int().optional()
        });
    });
    (0, globals_1.it)('with all settings', function () {
        var cfg = (0, index_1.config)({
            graph: g,
            cors: {
                maxAge: 88400,
                allowedOrigins: [new URL('https://example.com')]
            }
        });
        (0, globals_1.expect)((0, utils_1.renderGraphQL)(cfg)).toMatchInlineSnapshot("\n      \"extend schema\n        @cors(\n          allowedOrigins: [\"https://example.com/\"],\n          maxAge: 88400\n        )\n\n      type A {\n        b: Int\n      }\"\n    ");
    });
    (0, globals_1.it)('with any allowed origin', function () {
        var cfg = (0, index_1.config)({
            graph: g,
            cors: {
                allowedOrigins: '*'
            }
        });
        (0, globals_1.expect)((0, utils_1.renderGraphQL)(cfg)).toMatchInlineSnapshot("\n      \"extend schema\n        @cors(\n          allowedOrigins: \"*\"\n        )\n\n      type A {\n        b: Int\n      }\"\n    ");
    });
});
