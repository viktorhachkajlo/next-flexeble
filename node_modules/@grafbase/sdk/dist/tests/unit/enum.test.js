"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../../src/index");
var globals_1 = require("@jest/globals");
var utils_1 = require("../utils");
(0, globals_1.describe)('Enum generator', function () {
    (0, globals_1.beforeEach)(function () {
        index_1.g.clear();
    });
    (0, globals_1.it)('generates an enum from an array of strings', function () {
        var e = index_1.g.enum('Fruits', ['Apples', 'Oranges']);
        (0, globals_1.expect)((0, utils_1.renderGraphQL)(e)).toMatchInlineSnapshot("\n      \"enum Fruits {\n        Apples,\n        Oranges\n      }\"\n    ");
    });
    (0, globals_1.it)('generates an enum field', function () {
        var e = index_1.g.enum('Fruits', ['Apples', 'Oranges']);
        index_1.g.model('Basket', {
            fruitType: index_1.g.enumRef(e)
        });
        (0, globals_1.expect)((0, utils_1.renderGraphQL)((0, index_1.config)({ schema: index_1.g }))).toMatchInlineSnapshot("\n      \"enum Fruits {\n        Apples,\n        Oranges\n      }\n\n      type Basket @model {\n        fruitType: Fruits!\n      }\"\n    ");
    });
    (0, globals_1.it)('generates an enum field with a default', function () {
        var e = index_1.g.enum('Fruits', ['Apples', 'Oranges']);
        index_1.g.model('Basket', {
            fruitType: index_1.g.enumRef(e).default('Oranges')
        });
        (0, globals_1.expect)((0, index_1.config)({ schema: index_1.g }).toString()).toMatchInlineSnapshot("\n      \"enum Fruits {\n        Apples,\n        Oranges\n      }\n\n      type Basket @model {\n        fruitType: Fruits! @default(value: Oranges)\n      }\"\n    ");
    });
    (0, globals_1.it)('prevents using of whitespaced identifier as the name', function () {
        (0, globals_1.expect)(function () { return index_1.g.enum('white space', ['Foo', 'Bar']); }).toThrow('Given name "white space" is not a valid TypeScript identifier.');
    });
    (0, globals_1.it)('prevents using of number-prefixed identifier as the name', function () {
        (0, globals_1.expect)(function () { return index_1.g.enum('0User', ['Foo', 'Bar']); }).toThrow('Given name "0User" is not a valid TypeScript identifier.');
    });
    (0, globals_1.it)('prevents using of weird characters identifier as the name', function () {
        (0, globals_1.expect)(function () { return index_1.g.enum('!@#$%^&*()+|~`=-', ['Foo', 'Bar']); }).toThrow('Given name "!@#$%^&*()+|~`=-" is not a valid TypeScript identifier.');
    });
    (0, globals_1.it)('prevents using of whitespaced identifier as a variant name', function () {
        (0, globals_1.expect)(function () { return index_1.g.enum('A', ['white space']); }).toThrow('Given name "white space" is not a valid TypeScript identifier.');
    });
    (0, globals_1.it)('prevents using of number-prefixed identifier as a variant name', function () {
        (0, globals_1.expect)(function () { return index_1.g.enum('A', ['0User']); }).toThrow('Given name "0User" is not a valid TypeScript identifier.');
    });
    (0, globals_1.it)('prevents using of weird characters identifier as a variant name', function () {
        (0, globals_1.expect)(function () { return index_1.g.enum('A', ['!@#$%^&*()+|~`=-']); }).toThrow('Given name "!@#$%^&*()+|~`=-" is not a valid TypeScript identifier.');
    });
});
